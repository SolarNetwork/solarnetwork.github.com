<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: net/authV2.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="99RFSgT3tL2YLyTgf_bHd"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-data.html">data</a></div><div class="sidebar-section-children"><a href="module-domain.html">domain</a></div><div class="sidebar-section-children"><a href="module-format.html">format</a></div><div class="sidebar-section-children"><a href="module-net.html">net</a></div><div class="sidebar-section-children"><a href="module-util.html">util</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="vaYqBSk5iirpt_ayUonPb"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Logger.html">Logger</a></div><div class="sidebar-section-children"><a href="module-domain-AggregateDatum.html">AggregateDatum</a></div><div class="sidebar-section-children"><a href="module-domain-Aggregation.html">Aggregation</a></div><div class="sidebar-section-children"><a href="module-domain-AuthTokenStatus.html">AuthTokenStatus</a></div><div class="sidebar-section-children"><a href="module-domain-AuthTokenType.html">AuthTokenType</a></div><div class="sidebar-section-children"><a href="module-domain-CombiningType.html">CombiningType</a></div><div class="sidebar-section-children"><a href="module-domain-Datum.html">Datum</a></div><div class="sidebar-section-children"><a href="module-domain-DatumAuxiliaryType.html">DatumAuxiliaryType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumFilter.html">DatumFilter</a></div><div class="sidebar-section-children"><a href="module-domain-DatumReadingType.html">DatumReadingType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumSamplesType.html">DatumSamplesType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumStreamMetadata.html">DatumStreamMetadata</a></div><div class="sidebar-section-children"><a href="module-domain.html#~DatumStreamType">DatumStreamType</a></div><div class="sidebar-section-children"><a href="module-domain-DeviceOperatingState.html">DeviceOperatingState</a></div><div class="sidebar-section-children"><a href="module-domain-GeneralMetadata.html">GeneralMetadata</a></div><div class="sidebar-section-children"><a href="module-domain-InstructionState.html">InstructionState</a></div><div class="sidebar-section-children"><a href="module-domain-Location.html">Location</a></div><div class="sidebar-section-children"><a href="module-domain-LocationPrecision.html">LocationPrecision</a></div><div class="sidebar-section-children"><a href="module-domain-Pagination.html">Pagination</a></div><div class="sidebar-section-children"><a href="module-domain-SecurityPolicy.html">SecurityPolicy</a></div><div class="sidebar-section-children"><a href="module-domain-SecurityPolicyBuilder.html">SecurityPolicyBuilder</a></div><div class="sidebar-section-children"><a href="module-domain-SkyCondition.html">SkyCondition</a></div><div class="sidebar-section-children"><a href="module-domain-SortDescriptor.html">SortDescriptor</a></div><div class="sidebar-section-children"><a href="module-domain-StreamAggregateDatum.html">StreamAggregateDatum</a></div><div class="sidebar-section-children"><a href="module-domain-StreamDatum.html">StreamDatum</a></div><div class="sidebar-section-children"><a href="module-domain-UserMetadataFilter.html">UserMetadataFilter</a></div><div class="sidebar-section-children"><a href="module-net-AuthorizationV2Builder.html">AuthorizationV2Builder</a></div><div class="sidebar-section-children"><a href="module-net-Environment.html">Environment</a></div><div class="sidebar-section-children"><a href="module-net-HttpHeaders.html">HttpHeaders</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumMetadataUrlHelper.html">LocationDatumMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumUrlHelper.html">LocationDatumUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumMetadataUrlHelper.html">NodeDatumMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumUrlHelper.html">NodeDatumUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeInstructionUrlHelper.html">NodeInstructionUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeMetadataUrlHelper.html">NodeMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UrlHelper.html">UrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserAuthTokenUrlHelper.html">UserAuthTokenUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserDatumAuxiliaryUrlHelper.html">UserDatumAuxiliaryUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserMetadataUrlHelper.html">UserMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-util-BitmaskEnum.html">BitmaskEnum</a></div><div class="sidebar-section-children"><a href="module-util-ComparableEnum.html">ComparableEnum</a></div><div class="sidebar-section-children"><a href="module-util-Configuration.html">Configuration</a></div><div class="sidebar-section-children"><a href="module-util-DatumStreamMetadataRegistry.html">DatumStreamMetadataRegistry</a></div><div class="sidebar-section-children"><a href="module-util-Enum.html">Enum</a></div><div class="sidebar-section-children"><a href="module-util-KeyedEnum.html">KeyedEnum</a></div><div class="sidebar-section-children"><a href="module-util-MultiMap.html">MultiMap</a></div><div class="sidebar-section-children"><a href="module-util-PropMap.html">PropMap</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="yin0NfZSLrkJsah81YYwY"><div>Mixins</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-domain-StreamDatumMetadataMixin.html">StreamDatumMetadataMixin</a></div><div class="sidebar-section-children"><a href="module-net-AuthTokenUrlHelperMixin.html">AuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumMetadataUrlHelperMixin.html">LocationDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumUrlHelperMixin.html">LocationDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationUrlHelperMixin.html">LocationUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumMetadataUrlHelperMixin.html">NodeDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumUrlHelperMixin.html">NodeDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeInstructionUrlHelperMixin.html">NodeInstructionUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeMetadataUrlHelperMixin.html">NodeMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeUrlHelperMixin.html">NodeUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-QueryUrlHelperMixin.html">QueryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserAuthTokenUrlHelperMixin.html">UserAuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserDatumAuxiliaryUrlHelperMixin.html">UserDatumAuxiliaryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserMetadataUrlHelperMixin.html">UserMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserUrlHelperMixin.html">UserUrlHelperMixin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="8oZpfjgJ5lh0-2xO42Ke4"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#AuthTokenUrlHelperMixin">AuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationDatumMetadataUrlHelperMixin">LocationDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationDatumUrlHelperMixin">LocationDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationUrlHelperMixin">LocationUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeDatumMetadataUrlHelperMixin">NodeDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeDatumUrlHelperMixin">NodeDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeInstructionUrlHelperMixin">NodeInstructionUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeMetadataUrlHelperMixin">NodeMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeUrlHelperMixin">NodeUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#QueryUrlHelperMixin">QueryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#StreamDatumMetadataMixin">StreamDatumMetadataMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserAuthTokenUrlHelperMixin">UserAuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserDatumAuxiliaryUrlHelperMixin">UserDatumAuxiliaryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserMetadataUrlHelperMixin">UserMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserUrlHelperMixin">UserUrlHelperMixin</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">net_authV2.js</h1></header><article><pre class="prettyprint source lang-js"><code>import Base64 from "crypto-js/enc-base64.js";
import Hex from "crypto-js/enc-hex.js";
import HmacSHA256 from "crypto-js/hmac-sha256.js";
import SHA256 from "crypto-js/sha256.js";
import { parse as uriParse } from "uri-js";

import { iso8601Date } from "../format/date.js";
import MultiMap from "../util/multiMap.js";
import Environment from "./environment.js";
import { HttpMethod, default as HttpHeaders } from "./httpHeaders.js";
import { urlQueryParse } from "./urlQuery.js";

/**
 * The number of milliseconds a signing key is valid for.
 * @type {number}
 * @private
 */
const SIGNING_KEY_VALIDITY = 7 * 24 * 60 * 60 * 1000;

/**
 * A builder object for the SNWS2 HTTP authorization scheme.
 *
 * This builder can be used to calculate a one-off header value, for example:
 *
 * ```
 * let authHeader = new AuthorizationV2Builder("my-token")
 *     .path("/solarquery/api/v1/pub/...")
 *     .build("my-token-secret");
 * ```
 *
 * Or the builder can be re-used for a given token:
 *
 * ```
 * // create a builder for a token
 * let builder = new AuthorizationV2Builder("my-token");
 *
 * // elsewhere, re-use the builder for repeated requests
 * builder.reset()
 *     .path("/solarquery/api/v1/pub/...")
 *     .build("my-token-secret");
 * ```
 *
 * Additionally, a signing key can be generated and re-used for up to 7 days:
 *
 * ```
 * // create a builder for a token
 * let builder = new AuthorizationV2Builder("my-token")
 *   .saveSigningKey("my-token-secret");
 *
 * // elsewhere, re-use the builder for repeated requests
 * builder.reset()
 *     .path("/solarquery/api/v1/pub/...")
 *     .buildWithSavedKey(); // note previously generated key used
 * ```
 *
 * ## Post requests
 *
 * For handling `POST` or `PUT` requests, you must make sure to configure the properties of
 * this class to match your actual HTTP request:
 *
 *  1. Use the {@link module:net~AuthorizationV2Builder#method method()} method to configure the HTTP verb (you can use the {@link module:net~HttpMethod HttpMethod} constants).
 *  2. Use the {@link module:net~AuthorizationV2Builder#contentType contentType()} method to configure the same value that will be used for the HTTP `Content-Type` header (you can use the {@link module:net~HttpContentType HttpContentType} constants).
 *  3. **If** the content type is `application/x-www-form-urlencoded` then you should use the {@link module:net~AuthorizationV2Builder#queryParams queryParams()} method to configure the request parameters.
 *  4. **If** the content type is **not** `application/x-www-form-urlencoded` then you should use the {@link module:net~AuthorizationV2Builder#computeContentDigest computeContentDigest()} method to configure a HTTP `Digest` header.
 *
 * ```
 * // create a builder for a token
 * let builder = new AuthorizationV2Builder("my-token")
 *   .saveSigningKey("my-token-secret");
 *
 * // POST request with form data
 * builder.reset()
 *     .method(HttpHeaders.POST)
 *     .path("/solarquery/api/v1/pub/...")
 *     .contentType(HttpContentType.FORM_URLENCODED_UTF8)
 *     .queryParams({foo:"bar"})
 *     .buildWithSavedKey();
 *
 * // PUT request with JSON data, with XHR style request
 * let reqJson = JSON.stringify({foo:"bar"});
 * builder.reset()
 *     .method(HttpHeaders.PUT)
 *     .path("/solarquery/api/v1/pub/...")
 *     .contentType(HttpContentType.APPLICATION_JSON_UTF8)
 *     .computeContentDigest(reqJson);
 *
 * // when making actual HTTP request, re-use the computed HTTP Digest header:
 * xhr.setRequestHeader(
 *     HttpHeaders.DIGEST,
 *     builder.httpHeaders.firstValue(HttpHeaders.DIGEST)
 * );
 * xhr.setRequestHeader(HttpHeaders.X_SN_DATE, builder.requestDateHeaderValue);
 * xhr.setRequestHeader(HttpHeaders.AUTHORIZATION, builder.buildWithSavedKey());
 * ```
 * @alias module:net~AuthorizationV2Builder
 */
class AuthorizationV2Builder {
	/**
	 * Constructor.
	 *
	 * The {@link module:net~AuthorizationV2Builder#reset reset()} method is invoked to set up
	 * default values for this instance.
	 *
	 * @param {string} token the auth token to use
	 * @param {module:net~Environment} [environment] the environment to use; if not provided a
	 *        default environment will be created
	 */
	constructor(token, environment) {
		/**
		 * The SolarNet auth token value.
		 * @member {string}
		 */
		this.tokenId = token;

		/**
		 * The SolarNet environment.
		 * @member {module:net~Environment}
		 */
		this.environment = environment || new Environment();

		/**
		 * The signed HTTP headers.
		 *
		 * @member {module:net~HttpHeaders}
		 */
		this.httpHeaders = new HttpHeaders();

		/**
		 * The HTTP query parameters.
		 *
		 * @member {module:util~MultiMap}
		 */
		this.parameters = new MultiMap();

		/**
		 * Force a port number to be added to host values, even if port would be implied.
		 *
		 * This can be useful when working with a server behind a proxy, where the
		 * proxy is configured to always forward the port even if the port is implied
		 * (i.e. HTTPS is used on the standard port 443).
		 *
		 * @member {boolean}
		 */
		this.forceHostPort = false;

		this.reset();
	}

	/**
	 * Reset to defalut property values.
	 *
	 * Any previously saved signing key via {@link module:net~AuthorizationV2Builder#saveSigningKey saveSigningKey()}
	 * or {@link module:net~AuthorizationV2Builder#key key()} is preserved. The following items are reset:
	 *
	 *  * {@link module:net~AuthorizationV2Builder#method method()} is set to `GET`
	 *  * {@link module:net~AuthorizationV2Builder#host host()} is set to `this.environment.host`
	 *  * {@link module:net~AuthorizationV2Builder#path path()} is set to `/`
	 *  * {@link module:net~AuthorizationV2Builder#date date()} is set to the current date
	 *  * {@link module:net~AuthorizationV2Builder#contentSHA256 contentSHA256()} is cleared
	 *  * {@link module:net~AuthorizationV2Builder#headers headers()} is cleared
	 *  * {@link module:net~AuthorizationV2Builder#queryParams queryParams()} is cleared
	 *  * {@link module:net~AuthorizationV2Builder#signedHttpHeaders signedHttpHeaders()} is set to a new empty array
	 *
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	reset() {
		this.contentDigest = null;
		var host = this.environment.host;
		this.httpHeaders.clear();
		this.parameters.clear();
		return this.signedHttpHeaders([])
			.method(HttpMethod.GET)
			.host(host)
			.path("/")
			.date(new Date());
	}

	/**
	 * Compute and cache the signing key.
	 *
	 * Signing keys are derived from the token secret and valid for 7 days, so
	 * this method can be used to compute a signing key so that {@link module:net~AuthorizationV2Builder#build build()}
	 * can be called later. The signing date will be set to whatever date is
	 * currently configured via {@link module:net~AuthorizationV2Builder#date date()}, which defaults to the
	 * current time for newly created builder instances.
	 *
	 * If you have an externally computed signing key, such as one returned from a token refresh API call,
	 * use the {@link module:net~AuthorizationV2Builder#key key()} method to save it rather than this method.
	 * If you want to compute the signing key, without caching it on this builder, use the
	 * {@link module:net~AuthorizationV2Builder#computeSigningKey computeSigningKey()} method rather than
	 * this method.
	 *
	 * @param {string} tokenSecret the secret to sign the digest with
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	saveSigningKey(tokenSecret) {
		this.key(this.computeSigningKey(tokenSecret), this.requestDate);
		return this;
	}

	/**
	 * Get or set the signing key.
	 *
	 * Use this method to save an existing signing key, for example one received via a refresh
	 * request. The `date` parameter is used to track the expirataion date of the key, as
	 * reported by the {@link module:net~AuthorizationV2Builder#signingKeyValid signingKeyValid}
	 * property.
	 *
	 * If you have an actual token secret value, use the
	 * {@link module:net~AuthorizationV2Builder#saveSigningKey saveSigningKey()} method to save it
	 * rather than this method.
	 *
	 * @param {CryptoJS#WordArray} key the signing key to save
	 * @param {Date} [date] an optional date the signing key was generated with; if not provided
	 *                      the configured {@link module:net~AuthorizationV2Builder#date date()}
	 *                      value will be used
	 * @returns {CryptoJS#WordArray|module:net~AuthorizationV2Builder} when used as a getter, the
	 *          current saved signing key value, otherwise this object
	 * @see module:net~AuthorizationV2Builder#signingKeyExpirationDate
	 */
	key(key, date) {
		if (key === undefined) {
			return this.signingKey;
		}
		this.signingKey = key;
		let expire = new Date(
			(date ? date.getTime() : this.requestDate.getTime()) + SIGNING_KEY_VALIDITY,
		);
		expire.setUTCHours(0);
		expire.setUTCMinutes(0);
		expire.setUTCSeconds(0);
		expire.setUTCMilliseconds(0);
		this.signingKeyExpiration = expire;
		return this;
	}

	/**
	 * Get the saved signing key expiration date.
	 *
	 * This will return the expiration date the signing key saved via
	 * {@link module:net~AuthorizationV2Builder#key key()} or
	 * {@link module:net~AuthorizationV2Builder#saveSigningKey saveSigningKey()}.
	 *
	 * @readonly
	 * @type {Date}
	 */
	get signingKeyExpirationDate() {
		return this.signingKeyExpiration;
	}

	/**
	 * Test if a signing key is present and not expired.
	 * @readonly
	 * @type {boolean}
	 */
	get signingKeyValid() {
		return this.signingKey &amp;&amp;
			this.signingKeyExpiration instanceof Date &amp;&amp;
			Date.now() &lt; this.signingKeyExpiration.getTime()
			? true
			: false;
	}

	/**
	 * Set the HTTP method (verb) to use.
	 *
	 * @param {string} val the method to use; see the {@link HttpMethod} enum for possible values
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	method(val) {
		this.httpMethod = val;
		return this;
	}

	/**
	 * Set the HTTP host.
	 *
	 * This is a shortcut for calling `HttpHeaders#put(HttpHeaders.HOST, val)`.
	 *
	 * @param {string} val the HTTP host value to use
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	host(val) {
		if (this.forceHostPort &amp;&amp; val.indexOf(":") &lt; 0 &amp;&amp; this.environment.port != 80) {
			val += ":" + this.environment.port;
		}
		this.httpHeaders.put(HttpHeaders.HOST, val);
		return this;
	}

	/**
	 * Set the HTTP request path to use.
	 *
	 * @param {string} val the request path to use
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	path(val) {
		this.requestPath = val;
		return this;
	}

	/**
	 * Set the host, path, and query parameters via a URL string.
	 *
	 * @param {string} url the URL value to use
	 * @param {boolean} [ignoreHost] if `true` then do not set the {@link module:net~AuthorizationV2Builder#host host()}
	 *                               from the given URL; this can be useful when you do not want to override the configured
	 *                               environment host
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	url(url, ignoreHost) {
		const uri = uriParse(url);
		let host = uri.host;
		if (
			uri.port &amp;&amp;
			(((uri.scheme === "https" || uri.scheme === "wss") &amp;&amp; uri.port !== 443) ||
				((uri.scheme === "http" || uri.scheme === "ws") &amp;&amp; uri.port !== 80))
		) {
			host += ":" + uri.port;
		}
		if (uri.query) {
			this.queryParams(urlQueryParse(uri.query));
		}
		if (!ignoreHost) {
			this.host(host);
		}
		return this.path(uri.scheme === "wss" || uri.scheme === "ws" ? uri.resourceName : uri.path);
	}

	/**
	 * Set the HTTP content type.
	 *
	 * This is a shortcut for calling {@link module:net~HttpHeaders#put HttpHeaders.put()} with the
	 * key {@link module:net~HttpHeaders.CONTENT_TYPE HttpHeaders.CONTENT_TYPE}.
	 *
	 * @param {string} val the HTTP content type value to use
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	contentType(val) {
		this.httpHeaders.put(HttpHeaders.CONTENT_TYPE, val);
		return this;
	}

	/**
	 * Set the authorization request date.
	 *
	 * @param {Date} val the date to use; typically the current time, e.g. `new Date()`
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	date(val) {
		this.requestDate = val ? val : new Date();
		return this;
	}

	/**
	 * The authorization request date as a HTTP header string value.
	 *
	 * @readonly
	 * @type {string}
	 */
	get requestDateHeaderValue() {
		return this.requestDate.toUTCString();
	}

	/**
	 * Control using the `X-SN-Date` HTTP header versus the `Date` header.
	 *
	 * Set to `true` to use the `X-SN-Date` header, `false` to use
	 * the `Date` header. This will return `true` if `X-SN-Date` has been
	 * added to the `signedHeaderNames` property or has been added to the `httpHeaders`
	 * property.
	 *
	 * @type {boolean}
	 */
	get useSnDate() {
		let signedHeaders = this.signedHeaderNames;
		let existingIndex = Array.isArray(signedHeaders)
			? signedHeaders.findIndex(caseInsensitiveEqualsFn(HttpHeaders.X_SN_DATE))
			: -1;
		return existingIndex >= 0 || this.httpHeaders.containsKey(HttpHeaders.X_SN_DATE);
	}

	set useSnDate(enabled) {
		let signedHeaders = this.signedHeaderNames;
		let existingIndex = Array.isArray(signedHeaders)
			? signedHeaders.findIndex(caseInsensitiveEqualsFn(HttpHeaders.X_SN_DATE))
			: -1;
		if (enabled &amp;&amp; existingIndex &lt; 0) {
			signedHeaders = signedHeaders
				? signedHeaders.concat(HttpHeaders.X_SN_DATE)
				: [HttpHeaders.X_SN_DATE];
			this.signedHeaderNames = signedHeaders;
		} else if (!enabled &amp;&amp; existingIndex >= 0) {
			signedHeaders.splice(existingIndex, 1);
			this.signedHeaderNames = signedHeaders;
		}

		// also clear from httpHeaders
		this.httpHeaders.remove(HttpHeaders.X_SN_DATE);
	}

	/**
	 * Set the `useSnDate` property.
	 *
	 * @param {boolean} enabled `true` to use the `X-SN-Date` header, `false` to use `Date`
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	snDate(enabled) {
		this.useSnDate = enabled;
		return this;
	}

	/**
	 * Set a HTTP header value.
	 *
	 * This is a shortcut for calling `HttpHeaders#put(headerName, val)`.
	 *
	 * @param {string} headerName the header name to set
	 * @param {string} headerValue the header value to set
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	header(headerName, headerValue) {
		this.httpHeaders.put(headerName, headerValue);
		return this;
	}

	/**
	 * Set the HTTP headers to use with the request.
	 *
	 * The headers object must include all headers necessary by the
	 * authentication scheme, and any additional headers also configured via
	 * {@link module:net~AuthorizationV2Builder#signedHttpHeaders}.
	 *
	 * @param {HttpHeaders} headers the HTTP headers to use
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	headers(headers) {
		this.httpHeaders = headers;
		return this;
	}

	/**
	 * Set the HTTP `GET` query parameters, or `POST` form-encoded
	 * parameters.
	 *
	 * @param {MultiMap|Object} params the parameters to use, as either a {@link MultiMap} or simple `Object`
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	queryParams(params) {
		if (params instanceof MultiMap) {
			this.parameters = params;
		} else {
			this.parameters.putAll(params);
		}
		return this;
	}

	/**
	 * Set additional HTTP header names to sign with the authentication.
	 *
	 * @param {sring[]} signedHeaderNames additional HTTP header names to include in the signature
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	signedHttpHeaders(signedHeaderNames) {
		this.signedHeaderNames = signedHeaderNames;
		return this;
	}

	/**
	 * Set the HTTP request body content SHA-256 digest value.
	 *
	 * @param {string|module:crypto-js/enc-hex~WordArray} digest the digest value to use; if a string it is assumed to be Hex encoded
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	contentSHA256(digest) {
		var contentDigest;
		if (typeof digest === "string") {
			contentDigest = Hex.parse(digest);
		} else {
			contentDigest = digest;
		}
		this.contentDigest = contentDigest;
		return this;
	}

	/**
	 * Compute the SHA-256 digest of the request body content and configure the result on this builder.
	 *
	 * This method will compute the digest and then save the result via the
	 * {@link module:net~AuthorizationV2Builder#contentSHA256 contentSHA256()}
	 * method. In addition, it will set the `Digest` HTTP header value via
	 * {@link module:net~AuthorizationV2Builder#header header()}.
	 * This means you _must_ also pass the `Digest` HTTP header with the request. After calling this
	 * method, you can retrieve the `Digest` HTTP header value via the `httpHeaders`property.
	 *
	 * @param {string} content the request body content to compute a SHA-256 digest value from
	 * @returns {module:net~AuthorizationV2Builder} this object
	 */
	computeContentDigest(content) {
		var digest = SHA256(content);
		this.contentSHA256(digest);
		this.header("Digest", "sha-256=" + Base64.stringify(digest));
		return this;
	}

	/**
	 * Compute the canonical query parameters.
	 *
	 * @returns {string} the canonical query parameters string value
	 */
	canonicalQueryParameters() {
		const keys = this.parameters.keySet();
		if (keys.length &lt; 1) {
			return "";
		}
		keys.sort();
		const len = keys.length;
		var first = true,
			result = "";
		for (let i = 0; i &lt; len; i += 1) {
			let key = keys[i];
			let vals = this.parameters.value(key);
			const valsLen = vals.length;
			for (let j = 0; j &lt; valsLen; j += 1) {
				if (first) {
					first = false;
				} else {
					result += "&amp;";
				}
				result += _encodeURIComponent(key) + "=" + _encodeURIComponent(vals[j]);
			}
		}
		return result;
	}

	/**
	 * Compute the canonical HTTP headers string value.
	 *
	 * @param {string[]} sortedLowercaseHeaderNames the sorted, lower-cased HTTP header names to include
	 * @returns {string} the canonical headers string value
	 */
	canonicalHeaders(sortedLowercaseHeaderNames) {
		var result = "",
			headerName,
			headerValue;
		const len = sortedLowercaseHeaderNames.length;
		for (let i = 0; i &lt; len; i += 1) {
			headerName = sortedLowercaseHeaderNames[i];
			if ("date" === headerName || "x-sn-date" === headerName) {
				headerValue = this.requestDate.toUTCString();
			} else {
				headerValue = this.httpHeaders.firstValue(headerName);
			}
			result += headerName + ":" + (headerValue ? headerValue.trim() : "") + "\n";
		}
		return result;
	}

	/**
	 * Compute the canonical signed header names value from an array of HTTP header names.
	 *
	 * @param {string[]} sortedLowercaseHeaderNames the sorted, lower-cased HTTP header names to include
	 * @returns {string} the canonical signed header names string value
	 * @private
	 */
	canonicalSignedHeaderNames(sortedLowercaseHeaderNames) {
		return sortedLowercaseHeaderNames.join(";");
	}

	/**
	 * Get the canonical request content SHA256 digest, hex encoded.
	 *
	 * @returns {string} the hex-encoded SHA256 digest of the request content
	 */
	canonicalContentSHA256() {
		return this.contentDigest
			? Hex.stringify(this.contentDigest)
			: AuthorizationV2Builder.EMPTY_STRING_SHA256_HEX;
	}

	/**
	 * Compute the canonical HTTP header names to include in the signature.
	 *
	 * @returns {string[]} the sorted, lower-cased HTTP header names to include
	 */
	canonicalHeaderNames() {
		const httpHeaders = this.httpHeaders;
		const signedHeaderNames = this.signedHeaderNames;

		// use a MultiMap to take advantage of case-insensitive keys
		const map = new MultiMap();

		map.put(HttpHeaders.HOST, true);
		if (this.useSnDate) {
			map.put(HttpHeaders.X_SN_DATE, true);
		} else {
			map.put(HttpHeaders.DATE, true);
		}
		if (httpHeaders.containsKey(HttpHeaders.CONTENT_MD5)) {
			map.put(HttpHeaders.CONTENT_MD5, true);
		}
		if (httpHeaders.containsKey(HttpHeaders.CONTENT_TYPE)) {
			map.put(HttpHeaders.CONTENT_TYPE, true);
		}
		if (httpHeaders.containsKey(HttpHeaders.DIGEST)) {
			map.put(HttpHeaders.DIGEST, true);
		}
		if (signedHeaderNames &amp;&amp; signedHeaderNames.length > 0) {
			signedHeaderNames.forEach((e) => map.put(e, true));
		}
		return lowercaseSortedArray(map.keySet());
	}

	/**
	 * Compute the canonical request data that will be included in the data to sign with the request.
	 *
	 * @returns {string} the canonical request data
	 */
	buildCanonicalRequestData() {
		return this.computeCanonicalRequestData(this.canonicalHeaderNames());
	}

	/**
	 * Compute the canonical request data that will be included in the data to sign with the request,
	 * using a specific set of HTTP header names to sign.
	 *
	 * @param {string[]} sortedLowercaseHeaderNames the sorted, lower-cased HTTP header names to sign with the request
	 * @returns {string} the canonical request data
	 * @private
	 */
	computeCanonicalRequestData(sortedLowercaseHeaderNames) {
		// 1: HTTP verb
		var result = this.httpMethod + "\n";

		// 2: Canonical URI
		result += this.requestPath + "\n";

		// 3: Canonical query string
		result += this.canonicalQueryParameters() + "\n";

		// 4: Canonical headers
		result += this.canonicalHeaders(sortedLowercaseHeaderNames); // already includes newline

		// 5: Signed header names
		result += this.canonicalSignedHeaderNames(sortedLowercaseHeaderNames) + "\n";

		// 6: Content SHA256, hex encoded
		result += this.canonicalContentSHA256();

		return result;
	}

	/**
	 * Compute the signing key, from a secret key and based on the
	 * configured {@link module:net~AuthorizationV2Builder#date date()}.
	 *
	 * This method does not save the signing key for future use in this builder instance
	 * (see {@link module:net~AuthorizationV2Builder#saveSigningKey saveSigningKey()} for that).
	 * Use this method if you want to compute a signing key that you can later pass to
	 * {@link module:net~AuthorizationV2Builder#buildWithKey buildWithKey()} on some other builder instance.
	 * Signing keys are valid for a maximum of 7 days, granular to whole days only.
	 * To make a signing key expire in fewer than 7 days, configure  a
	 * {@link module:net~AuthorizationV2Builder#date date()} value in the past before
	 * calling this method.
	 *
	 * @param {string} secretKey the secret key string
	 * @returns {CryptoJS#WordArray} the computed key
	 */
	computeSigningKey(secretKey) {
		const datestring = iso8601Date(this.requestDate);
		const key = HmacSHA256("snws2_request", HmacSHA256(datestring, "SNWS2" + secretKey));
		return key;
	}

	/**
	 * Compute the data to be signed by the signing key.
	 *
	 * @param {string} canonicalRequestData the request data, returned from {@link module:net~AuthorizationV2Builder#buildCanonicalRequestData}
	 * @returns {string} the data to sign
	 * @private
	 */
	computeSignatureData(canonicalRequestData) {
		/*- signature data is like:

            SNWS2-HMAC-SHA256\n
            20170301T120000Z\n
            Hex(SHA256(canonicalRequestData))
        */
		return (
			"SNWS2-HMAC-SHA256\n" +
			iso8601Date(this.requestDate, true) +
			"\n" +
			Hex.stringify(SHA256(canonicalRequestData))
		);
	}

	/**
	 * Compute a HTTP `Authorization` header value from the configured properties
	 * on the builder, using the provided signing key.
	 *
	 * This method does not save the signing key for future use in this builder instance
	 * (see {@link module:net~AuthorizationV2Builder#key key()} for that).
	 *
	 * @param {CryptoJS#WordArray} signingKey the key to sign the computed signature data with
	 * @returns {string} the SNWS2 HTTP Authorization header value
	 */
	buildWithKey(signingKey) {
		const sortedHeaderNames = this.canonicalHeaderNames();
		const canonicalReq = this.computeCanonicalRequestData(sortedHeaderNames);
		const signatureData = this.computeSignatureData(canonicalReq);
		const signature = Hex.stringify(HmacSHA256(signatureData, signingKey));
		let result =
			"SNWS2 Credential=" +
			this.tokenId +
			",SignedHeaders=" +
			sortedHeaderNames.join(";") +
			",Signature=" +
			signature;
		return result;
	}

	/**
	 * Compute a HTTP `Authorization` header value from the configured
	 * properties on the builder, computing a new signing key based on the
	 * configured {@link module:net~AuthorizationV2Builder#date}.
	 *
	 * @param {string} tokenSecret the secret to sign the authorization with
	 * @return {string} the SNWS2 HTTP Authorization header value
	 */
	build(tokenSecret) {
		const signingKey = this.computeSigningKey(tokenSecret);
		return this.buildWithKey(signingKey);
	}

	/**
	 * Compute a HTTP `Authorization` header value from the configured
	 * properties on the builder, using a signing key configured from a previous
	 * call to {@link module:net~AuthorizationV2Builder#saveSigningKey saveSigningKey()}
	 * or {@link module:net~AuthorizationV2Builder#key key()}.
	 *
	 * @return {string} the SNWS2 HTTP Authorization header value.
	 */
	buildWithSavedKey() {
		return this.buildWithKey(this.signingKey);
	}
}

/**
 * @function stringMatchFn
 * @param {string} e the element to test
 * @returns {boolean} `true` if the element matches
 * @private
 */

/**
 * Create a case-insensitive string matching function.
 *
 * @param {string} value the string to perform the case-insensitive comparison against
 * @returns {stringMatchFn} a matching function that performs a case-insensitive comparison
 * @private
 */
function caseInsensitiveEqualsFn(value) {
	const valueLc = value.toLowerCase();
	return (e) => valueLc === e.toString().toLowerCase();
}

/**
 * Create a new array of lower-cased and sorted strings from another array.
 *
 * @param {string[]} items the items to lower-case and sort
 * @returns {string[]} a new array of the lower-cased and sorted items
 * @private
 */
function lowercaseSortedArray(items) {
	const sortedItems = [];
	const len = items.length;
	for (let i = 0; i &lt; len; i += 1) {
		sortedItems.push(items[i].toLowerCase());
	}
	sortedItems.sort();
	return sortedItems;
}

function _hexEscapeChar(c) {
	return "%" + c.charCodeAt(0).toString(16).toUpperCase();
}

function _encodeURIComponent(str) {
	return encodeURIComponent(str).replace(/[!'()*]/g, _hexEscapeChar);
}

Object.defineProperties(AuthorizationV2Builder, {
	/**
	 * The hex-encoded value for an empty SHA256 digest value.
	 *
	 * @memberof AuthorizationV2Builder
	 * @readonly
	 * @type {string}
	 */
	EMPTY_STRING_SHA256_HEX: {
		value: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
	},

	/**
	 * The SolarNetwork V2 authorization scheme.
	 *
	 * @memberof AuthorizationV2Builder
	 * @readonly
	 * @type {string}
	 */
	SNWS2_AUTH_SCHEME: { value: "SNWS2" },
});

export default AuthorizationV2Builder;
</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="99RFSgT3tL2YLyTgf_bHd"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-data.html">data</a></div><div class="sidebar-section-children"><a href="module-domain.html">domain</a></div><div class="sidebar-section-children"><a href="module-format.html">format</a></div><div class="sidebar-section-children"><a href="module-net.html">net</a></div><div class="sidebar-section-children"><a href="module-util.html">util</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="vaYqBSk5iirpt_ayUonPb"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Logger.html">Logger</a></div><div class="sidebar-section-children"><a href="module-domain-AggregateDatum.html">AggregateDatum</a></div><div class="sidebar-section-children"><a href="module-domain-Aggregation.html">Aggregation</a></div><div class="sidebar-section-children"><a href="module-domain-AuthTokenStatus.html">AuthTokenStatus</a></div><div class="sidebar-section-children"><a href="module-domain-AuthTokenType.html">AuthTokenType</a></div><div class="sidebar-section-children"><a href="module-domain-CombiningType.html">CombiningType</a></div><div class="sidebar-section-children"><a href="module-domain-Datum.html">Datum</a></div><div class="sidebar-section-children"><a href="module-domain-DatumAuxiliaryType.html">DatumAuxiliaryType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumFilter.html">DatumFilter</a></div><div class="sidebar-section-children"><a href="module-domain-DatumReadingType.html">DatumReadingType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumSamplesType.html">DatumSamplesType</a></div><div class="sidebar-section-children"><a href="module-domain-DatumStreamMetadata.html">DatumStreamMetadata</a></div><div class="sidebar-section-children"><a href="module-domain.html#~DatumStreamType">DatumStreamType</a></div><div class="sidebar-section-children"><a href="module-domain-DeviceOperatingState.html">DeviceOperatingState</a></div><div class="sidebar-section-children"><a href="module-domain-GeneralMetadata.html">GeneralMetadata</a></div><div class="sidebar-section-children"><a href="module-domain-InstructionState.html">InstructionState</a></div><div class="sidebar-section-children"><a href="module-domain-Location.html">Location</a></div><div class="sidebar-section-children"><a href="module-domain-LocationPrecision.html">LocationPrecision</a></div><div class="sidebar-section-children"><a href="module-domain-Pagination.html">Pagination</a></div><div class="sidebar-section-children"><a href="module-domain-SecurityPolicy.html">SecurityPolicy</a></div><div class="sidebar-section-children"><a href="module-domain-SecurityPolicyBuilder.html">SecurityPolicyBuilder</a></div><div class="sidebar-section-children"><a href="module-domain-SkyCondition.html">SkyCondition</a></div><div class="sidebar-section-children"><a href="module-domain-SortDescriptor.html">SortDescriptor</a></div><div class="sidebar-section-children"><a href="module-domain-StreamAggregateDatum.html">StreamAggregateDatum</a></div><div class="sidebar-section-children"><a href="module-domain-StreamDatum.html">StreamDatum</a></div><div class="sidebar-section-children"><a href="module-domain-UserMetadataFilter.html">UserMetadataFilter</a></div><div class="sidebar-section-children"><a href="module-net-AuthorizationV2Builder.html">AuthorizationV2Builder</a></div><div class="sidebar-section-children"><a href="module-net-Environment.html">Environment</a></div><div class="sidebar-section-children"><a href="module-net-HttpHeaders.html">HttpHeaders</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumMetadataUrlHelper.html">LocationDatumMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumUrlHelper.html">LocationDatumUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumMetadataUrlHelper.html">NodeDatumMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumUrlHelper.html">NodeDatumUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeInstructionUrlHelper.html">NodeInstructionUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-NodeMetadataUrlHelper.html">NodeMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UrlHelper.html">UrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserAuthTokenUrlHelper.html">UserAuthTokenUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserDatumAuxiliaryUrlHelper.html">UserDatumAuxiliaryUrlHelper</a></div><div class="sidebar-section-children"><a href="module-net-UserMetadataUrlHelper.html">UserMetadataUrlHelper</a></div><div class="sidebar-section-children"><a href="module-util-BitmaskEnum.html">BitmaskEnum</a></div><div class="sidebar-section-children"><a href="module-util-ComparableEnum.html">ComparableEnum</a></div><div class="sidebar-section-children"><a href="module-util-Configuration.html">Configuration</a></div><div class="sidebar-section-children"><a href="module-util-DatumStreamMetadataRegistry.html">DatumStreamMetadataRegistry</a></div><div class="sidebar-section-children"><a href="module-util-Enum.html">Enum</a></div><div class="sidebar-section-children"><a href="module-util-KeyedEnum.html">KeyedEnum</a></div><div class="sidebar-section-children"><a href="module-util-MultiMap.html">MultiMap</a></div><div class="sidebar-section-children"><a href="module-util-PropMap.html">PropMap</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="yin0NfZSLrkJsah81YYwY"><div>Mixins</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-domain-StreamDatumMetadataMixin.html">StreamDatumMetadataMixin</a></div><div class="sidebar-section-children"><a href="module-net-AuthTokenUrlHelperMixin.html">AuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumMetadataUrlHelperMixin.html">LocationDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationDatumUrlHelperMixin.html">LocationDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-LocationUrlHelperMixin.html">LocationUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumMetadataUrlHelperMixin.html">NodeDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeDatumUrlHelperMixin.html">NodeDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeInstructionUrlHelperMixin.html">NodeInstructionUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeMetadataUrlHelperMixin.html">NodeMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-NodeUrlHelperMixin.html">NodeUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-QueryUrlHelperMixin.html">QueryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserAuthTokenUrlHelperMixin.html">UserAuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserDatumAuxiliaryUrlHelperMixin.html">UserDatumAuxiliaryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserMetadataUrlHelperMixin.html">UserMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="module-net-UserUrlHelperMixin.html">UserUrlHelperMixin</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="8oZpfjgJ5lh0-2xO42Ke4"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#AuthTokenUrlHelperMixin">AuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationDatumMetadataUrlHelperMixin">LocationDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationDatumUrlHelperMixin">LocationDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#LocationUrlHelperMixin">LocationUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeDatumMetadataUrlHelperMixin">NodeDatumMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeDatumUrlHelperMixin">NodeDatumUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeInstructionUrlHelperMixin">NodeInstructionUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeMetadataUrlHelperMixin">NodeMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#NodeUrlHelperMixin">NodeUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#QueryUrlHelperMixin">QueryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#StreamDatumMetadataMixin">StreamDatumMetadataMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserAuthTokenUrlHelperMixin">UserAuthTokenUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserDatumAuxiliaryUrlHelperMixin">UserDatumAuxiliaryUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserMetadataUrlHelperMixin">UserMetadataUrlHelperMixin</a></div><div class="sidebar-section-children"><a href="global.html#UserUrlHelperMixin">UserUrlHelperMixin</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>