<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Global Type Definitions Datum Type: Object Properties: Name Type Description created string the datum date sourceId string the control ID DatumRange Type: Object Properties: Name Type Description timeZone string the local time zone of the node startDateMillis number the start of the time range, in milliseconds since the epoch endDateMillis number the end of the time range, in milliseconds since the epoch sDate Date the start of the time range eDate Date the end of the time range × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:44+12:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Classes Classes DatumLoader DatumRangeFinder DatumSourceFinder JsonClientSupport MultiLoader × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:44+12:00 using the DocStrap template. "},"interfaces.list.html":{"id":"interfaces.list.html","title":"Interfaces","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Interfaces Classes DatumLoader DatumRangeFinder DatumSourceFinder JsonClientSupport MultiLoader × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:44+12:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global solarnetwork-datum-loader 0.8.0 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"DatumLoader.html":{"id":"DatumLoader.html","title":"Class: DatumLoader","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Class: DatumLoader DatumLoader Load data for a set of source IDs, date range, and aggregate level using the listDatumUrl() endpoint of NodeDatumUrlHelperMixin. This object is designed to be used once per query. After creating the object and configuring an asynchronous callback function with DatumLoader#callback, call DatumLoader#load to startloading the data. The callback function will be called once all data has been loaded. The callback function can also be passed as an argument to the DatumLoader#load method directly. new DatumLoader(urlHelper, filter [, authBuilder]) Constructor. Parameters: Name Type Argument Description urlHelper NodeDatumUrlHelperMixin a URL helper for accessing node datum via SolarQuery filter DatumFilter the filter parameters to use authBuilder AuthorizationV2Builder &lt;optional&gt; the auth builder to authenticate requests with; if not provided then only public data can be queried; when provided a pre-signed key must be available Version: 1.1.0 Implements: Loader Example const filter = new DatumFilter(); filter.nodeId = 123; // configure other filter settings here... const urlHelper = new NodeDatumUrlHelper(); new DatumLoader(urlHelper, filter).load((error, results) =&gt; { // results is an array of Datum objects }); Members &lt;static, readonly&gt; version :string The class version. Type: string filter :DatumFilter Type: DatumFilter urlHelper :NodeDatumUrlHelper Type: NodeDatumUrlHelper Methods callback( [value]) Get or set the callback function, invoked after all data has been loaded. The callback function will be passed two arguments: an error and the results. In incremental mode, the callback will also be passed a boolean that will be true on that last page of data, and a Pagination that details which page the callback represents. Parameters: Name Type Argument Description value DatumLoader~dataCallback &lt;optional&gt; the callback function to use Returns: when used as a getter, the current callback function, otherwise this object Type DatumLoader~dataCallback | DatumLoader concurrency( [value]) Get or set the concurrency limit to use for parallel requests. By default requests are not made in parallel (this property is configured as 0). Change to a positive number to enable parallel query mode. When parallel mode is enabled the loader will make one request that includes the total result count and first page of results, followed by parallel requests for any remaining pages based on that total result count and configured page size. Parameters: Name Type Argument Description value number &lt;optional&gt; the concurrency level to use, or Infinity for no limit Since: 1.1.0 Returns: when used as a getter, the current concurrency value, otherwise this object Type number | DatumLoader includeTotalResultsCount( [value]) Get or set the flag for requesting the total results count. By default the datum loader will not request the overal total result count when querying for data, as this speeds up queries. By setting this to true the total result count will be requested on the first query page. Parameters: Name Type Argument Description value boolean &lt;optional&gt; the flag to include total results count Returns: when used a a getter, the total results count inclusion mode; otherwise this object Type boolean | DatumLoader incremental( [value]) Get or set incremental mode for loading the data. When incremental mode is enabled (set to true) then the callback function will be invoked for each result page that is loaded. The function will be passed a second boolean argument that will be set to true only on the last page of result data, and a third Pagination` object argument that details the starting offset of the page. When incremental mode is disabled (set to false, the default) then all result pages are combined into a single array and the callback will be invoked just once. Parameters: Name Type Argument Description value boolean &lt;optional&gt; the incremental mode to set Returns: when used a a getter, the incremental mode; otherwise this object Type boolean | DatumLoader load( [callback]) Initiate loading the data. As an alternative to configuring the callback function via the DatumLoader#callback method,a callback function can be passed as an argument to this function. That allows this function to be passed to things like queue.defer, for example. Parameters: Name Type Argument Description callback DatumLoader~dataCallback &lt;optional&gt; a callback function to use; either this argument must be provided or the function must have already been configured via DatumLoader#callback Implements: Loader#load Returns: this object Type DatumLoader paginationSize( [value]) Get or set the result pagination size. Parameters: Name Type Argument Description value number &lt;optional&gt; the pagination size to set; defaults to 1000 Returns: when used as a getter, the pagination size; otherwise this object Type number | DatumLoader parameters( [value]) Get or set additional URL parameters. The parameters are set as object properties. If a property value is an array, multiple parameters for that property will be added. Parameters: Name Type Argument Description value object &lt;optional&gt; the URL parameters to include with the JSON request Returns: when used as a getter, the URL parameters, otherwise this object Type object | DatumLoader Type Definitions dataCallback( [error], data [, done] [, page]) The data callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data Array.&lt;Datum&gt; the result data done boolean &lt;optional&gt; in incremental mode, will be true when invoked on the last page of data page Pagination &lt;optional&gt; in incremental mode, the page associated with the data × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"DatumRangeFinder.html":{"id":"DatumRangeFinder.html","title":"Class: DatumRangeFinder","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Class: DatumRangeFinder DatumRangeFinder Class to find the available datum date range for a set of node datum URL helpers. This is useful when generating reports or charts for a set of SolarNode datum streams, so the overall start/end dates can be determined before requesting the actual data. It returns an object starting and ending date related properties, for example: { &quot;timeZone&quot;: &quot;Pacific/Auckland&quot;, &quot;sDate&quot;: Date(1248668709972), &quot;startDate&quot;: &quot;2009-07-27 16:25&quot;, &quot;startDateMillis&quot;: 1248668709972, &quot;eDate&quot;: Date(1379824746781), &quot;endDate&quot;: &quot;2013-09-22 16:39&quot;, &quot;endDateMillis&quot;: 1379824746781 } new DatumRangeFinder(urlHelpers [, authBuilder]) Constructor. Parameters: Name Type Argument Description urlHelpers NodeDatumUrlHelper | Array.&lt;NodeDatumUrlHelper&gt; the helper(s) to find the avaialble data range for authBuilder AuthorizationV2Builder &lt;optional&gt; the auth builder to authenticate requests with; if not provided then only public data can be queried; when provided a pre-signed key must be available Examples // the simple case, for just one SolarNode const urlHelper = new NodeDatumUrlHelper(); urlHelper.publicQuery = true; urlHelper.nodeId = 123; urlHelper.sourceIds = ['a', 'b']; const range = await new DatumRangeFinder(urlHelper).fetch(); // more complex case, for multiple SolarNode / source ID combinations const urlHelper2 = new NodeDatumUrlHelper(); urlHelper2.publicQuery = true; urlHelper2.nodeId = 234; urlHelper2.sourceId = 'c'; const range2 = await new DatumRangeFinder([urlHelper, urlHelper2]).fetch(); // with authentication; note the authentication must be valid for all SolarNodes! const auth = new AuthorizationV2Builder('my-token'); auth.saveSigningKey('secret'); urlHelper.publicQuery = false; urlHelper2.publicQuery = false; const range3 = await new DatumRangeFinder([urlHelper, urlHelper2], auth).fetch(); Members &lt;static, readonly&gt; version :string The class version. Type: string Methods load(callback) Asynchronously find the available datum range using a callback. Parameters: Name Type Description callback DatumRangeFinder~dataCallback the callback function to invoke Returns: Type void Type Definitions dataCallback( [error], data) The data callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data DatumRange the result data × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"DatumSourceFinder.html":{"id":"DatumSourceFinder.html","title":"Class: DatumSourceFinder","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Class: DatumSourceFinder DatumSourceFinder Class to find the available datum sources for a set of node datum URL helpers. This helper is useful for finding what source IDs are avaialble for a set of nodes. It returns an object with node ID properties with associated source ID array values, for example: { 123: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] } new DatumSourceFinder(urlHelpers [, authBuilder]) Constructor. Parameters: Name Type Argument Description urlHelpers NodeDatumUrlHelper | Array.&lt;NodeDatumUrlHelper&gt; the helper(s) to find the avaialble sources for authBuilder AuthorizationV2Builder &lt;optional&gt; the auth builder to authenticate requests with; if not provided then only public data can be queried; when provided a pre-signed key must be available Examples // the simple case, all available sources for just one SolarNode const urlHelper = new NodeDatumUrlHelper(); urlHelper.publicQuery = true; urlHelper.nodeId = 123; const sources = await new DatumSourceFinder(urlHelper).fetch(); // find all sources matching a wildcard pattern within the past day const filter = new DatumFilter(); filter.startDate = new Date(Date.now() - 24 * 60 * 60 * 1000); filter.sourceId = '/power/**'; const sources2 = await new DatumSourceFinder(urlHelper).filter(filter).fetch(); // find all sources across multiple SolarNodes const urlHelper2 = new NodeDatumUrlHelper(); urlHelper2.publicQuery = true; urlHelper2.nodeId = 234; const sources3 = await new DatumSourceFinder([urlHelper, urlHelper2]).fetch(); Members &lt;static, readonly&gt; version :string The class version. Type: string Methods filter( [value]) Get or set a DatumFilter to limit the query with. The startDate, endDate, and metadataFilter properties can be used to limit the query scope. Parameters: Name Type Argument Description value DatumFilter &lt;optional&gt; the datum filter to use Returns: when used as a getter, the filter, otherwise this object Type function | DatumFilter load(callback) Asynchronously find the available datum range using a callback. Parameters: Name Type Description callback DatumSourceFinder~dataCallback the callback function to invoke Returns: Type void Type Definitions dataCallback( [error], data) The data callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data object the result data, with node ID keys and string[] values representing the source IDs × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"JsonClientSupport.html":{"id":"JsonClientSupport.html","title":"Class: JsonClientSupport","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Class: JsonClientSupport JsonClientSupport An abstract class with customizable JSON client support. &lt;abstract&gt; new JsonClientSupport( [authBuilder]) Constructor. Parameters: Name Type Argument Description authBuilder AuthorizationV2Builder &lt;optional&gt; the auth builder to authenticate requests with; if not provided then only public data can be queried Members &lt;protected&gt; authBuilder :AuthorizationV2Builder An authorization builder to use to make authenticated HTTP requests. Type: AuthorizationV2Builder Methods client( [value]) Get or set a JSON HTTP client function to use. The function must be compatible with d3.json and defaults to that. This provides a way to integrate a different HTTP client if needed, for example a mock implementation in tests. Parameters: Name Type Argument Description value function &lt;optional&gt; the JSON client function, compatible with d3.json Returns: when used as a getter, the JSON client function, otherwise this object Type function | DatumSourceFinder fetch() Asynchronously load the data. This method calls JsonClientSupport#load to perform the actual work. Returns: the result promise Type Promise.&lt;*&gt; &lt;abstract&gt; load(callback) Asynchronously load the data using a callback. Extending classes must override this method to provide a useful implementation. Parameters: Name Type Description callback JsonClientSupport~dataCallback the callback function to invoke Returns: Type void Type Definitions dataCallback( [error], data) The data callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data * the result data × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"Loader.html":{"id":"Loader.html","title":"Interface: Loader","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Interface: Loader Loader Interface for classes that can be used to load data for MultiLoader. Methods load(callback) Load data asynchronously with a callback. Parameters: Name Type Description callback Loader~dataCallback the callback to invoke with the results Returns: the loader object Type Loader Type Definitions dataCallback( [error], data) The loader callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data Object the result data × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "},"MultiLoader.html":{"id":"MultiLoader.html","title":"Class: MultiLoader","body":" SolarNetwork Datum Loader Classes DatumLoaderDatumRangeFinderDatumSourceFinderJsonClientSupportMultiLoader Interfaces Loader Global Global Class: MultiLoader MultiLoader Load data from multiple Loader objects, invoking a callback function after all data has been loaded. Call MultiLoader#load to start loading the data. The DatumLoader class conforms to the Loader interface, so can be used to load arrays of Datum objects based on search criteria. new MultiLoader(loaders) Constructor. Parameters: Name Type Description loaders Array.&lt;Loader&gt; array of loader objects Version: 1.1.0 Example const filter1 = new DatumFilter(); filter1.nodeId = 123; // configure other filter settings here... const filter2 = new DatumFilter(); filter2.nodeId = 234; // configure other filter settings here const urlHelper = new NodeDatumUrlHelper(); new MultiLoader([ new DatumLoader(urlHelper, filter1), new DatumLoader(urlHelper, filter2), ]).load((error, results) =&gt; { // results is a 2-element array of Datum arrays }); Members &lt;static, readonly&gt; version :string The class version. Type: string Methods callback( [value]) Get or set the callback function, invoked after all data has been loaded. The callback function will be passed two arguments: an error and the results as an array of results from each configured Loader. Parameters: Name Type Argument Description value MultiLoader~dataCallback &lt;optional&gt; the callback function to use Returns: when used as a getter, the current callback function, otherwise this object Type MultiLoader~dataCallback | MultiLoader concurrency( [value]) Get or set the concurrency limit to use for requets. A default, infinite concurrency queue will be used by default. Parameters: Name Type Argument Description value number &lt;optional&gt; the concurrency level to use, or Infinity for no limit Since: 1.1.0 Returns: when used as a getter, the current concurrency value, otherwise this object Type number | MultiLoader fetch() Asynchronously load the data. This method calls MultiLoader#load to perform the actual work. Returns: the result promise Type Promise.&lt;Array.&lt;Object&gt;&gt; load( [callback]) Initiate loading the data. This will call Loader#load on each supplied loader, in parallel. As an alternative to configuring the callback function via the MultiLoader#callback method, a callback function can be passed as an argument to this function. This allows this function to be passed to queue.defer, for example. Parameters: Name Type Argument Description callback MultiLoader~dataCallback &lt;optional&gt; a callback function to use; either this argument must be provided or the function must have already been configured via MultiLoader#callback Returns: this object Type MultiLoader Type Definitions dataCallback( [error], data) The data callback function. Parameters: Name Type Argument Description error Error &lt;optional&gt; an error if a failure occurred data Array.&lt;Object&gt; the result data from all loaders × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-05-23T17:16:45+12:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
